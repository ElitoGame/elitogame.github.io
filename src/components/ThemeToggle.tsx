import { Show, createSignal } from "solid-js";

const ThemeToggle = () => {
	const [isDark, setIsDark] = createSignal(
		localStorage.getItem("theme") === "dark"
	);

	return (
		<button
			aria-label='theme toggle'
			onClick={() => {
				document.documentElement.classList.toggle("dark");
				localStorage.setItem(
					"theme",
					document.documentElement.classList.contains("dark") ? "dark" : "light"
				);
				setIsDark(!isDark());
			}}
		>
			<Show
				when={isDark()}
				fallback={
					<svg
						xmlns='http://www.w3.org/2000/svg'
						width='25'
						height='25'
						viewBox='0 0 25 25'
						fill='none'
					>
						<path
							d='M12.5012 7.8125C9.91821 7.8125 7.81372 9.91699 7.81372 12.5C7.81372 15.083 9.91821 17.1875 12.5012 17.1875C15.0842 17.1875 17.1887 15.083 17.1887 12.5C17.1887 9.91699 15.0842 7.8125 12.5012 7.8125ZM24.5325 11.7432L19.9084 9.43359L21.5442 4.53125C21.7639 3.86719 21.134 3.2373 20.4749 3.46191L15.5725 5.09766L13.2581 0.46875C12.9456 -0.15625 12.0569 -0.15625 11.7444 0.46875L9.43481 5.09277L4.52759 3.45703C3.86353 3.2373 3.23364 3.86719 3.45825 4.52637L5.09399 9.42871L0.469971 11.7432C-0.155029 12.0557 -0.155029 12.9443 0.469971 13.2568L5.09399 15.5664L3.45825 20.4736C3.23853 21.1377 3.86841 21.7676 4.52759 21.543L9.42993 19.9072L11.7395 24.5312C12.052 25.1562 12.9407 25.1562 13.2532 24.5312L15.5627 19.9072L20.4651 21.543C21.1292 21.7627 21.759 21.1328 21.5344 20.4736L19.8987 15.5713L24.5227 13.2617C25.1575 12.9443 25.1575 12.0557 24.5325 11.7432ZM16.9202 16.9189C14.4836 19.3555 10.5188 19.3555 8.08228 16.9189C5.64575 14.4824 5.64575 10.5176 8.08228 8.08105C10.5188 5.64453 14.4836 5.64453 16.9202 8.08105C19.3567 10.5176 19.3567 14.4824 16.9202 16.9189Z'
							class='fill-text dark:fill-text_dark'
						/>
					</svg>
				}
			>
				<svg
					xmlns='http://www.w3.org/2000/svg'
					width='24'
					height='27'
					viewBox='0 0 24 27'
					fill='none'
				>
					<path
						d='M13.1922 26.3844C17.2507 26.3844 20.9726 24.5394 23.4391 21.5005C24.8959 19.7056 23.3072 17.083 21.0558 17.5118C16.8122 18.32 12.8997 15.076 12.8997 10.7719C12.8997 8.27647 14.2426 6.01586 16.3747 4.80258C18.3713 3.6663 17.8691 0.63941 15.6006 0.220403C14.8061 0.0739046 14 0.000131732 13.1922 0C5.90764 0 0 5.90429 0 13.1922C0 20.4768 5.90434 26.3844 13.1922 26.3844ZM13.1922 2.47354C13.8614 2.47354 14.516 2.53543 15.1513 2.65277C12.3294 4.25866 10.4261 7.29282 10.4261 10.7719C10.4261 16.6387 15.767 21.037 21.5185 19.9417C19.5533 22.3631 16.5537 23.9109 13.1922 23.9109C7.27247 23.9109 2.47354 19.112 2.47354 13.1922C2.47354 7.27247 7.27247 2.47354 13.1922 2.47354Z'
						class='fill-text dark:fill-text_dark'
					></path>
				</svg>
			</Show>
		</button>
	);
};

export default ThemeToggle;
